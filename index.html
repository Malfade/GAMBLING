<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Casino Roulette</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
            color: white;
            font-family: 'Arial', sans-serif;
        }
        .wheel-container {
            position: relative;
            margin: 40px 0;
        }
        .wheel {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            border: 15px solid #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3), inset 0 0 50px rgba(0, 0, 0, 0.5);
            position: relative;
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99);
            transform-origin: center;
            background: conic-gradient(
                #00b300 0deg 9.73deg,
                #cc0000 9.73deg 19.46deg,
                #000000 19.46deg 29.19deg,
                #cc0000 29.19deg 38.92deg,
                #000000 38.92deg 48.65deg,
                #cc0000 48.65deg 58.38deg,
                #000000 58.38deg 68.11deg,
                #cc0000 68.11deg 77.84deg,
                #000000 77.84deg 87.57deg,
                #cc0000 87.57deg 97.3deg,
                #000000 97.3deg 107.03deg,
                #cc0000 107.03deg 116.76deg,
                #000000 116.76deg 126.49deg,
                #cc0000 126.49deg 136.22deg,
                #000000 136.22deg 145.95deg,
                #cc0000 145.95deg 155.68deg,
                #000000 155.68deg 165.41deg,
                #cc0000 165.41deg 175.14deg,
                #000000 175.14deg 184.87deg,
                #cc0000 184.87deg 194.6deg,
                #000000 194.6deg 204.33deg,
                #cc0000 204.33deg 214.06deg,
                #000000 214.06deg 223.79deg,
                #cc0000 223.79deg 233.52deg,
                #000000 233.52deg 243.25deg,
                #cc0000 243.25deg 252.98deg,
                #000000 252.98deg 262.71deg,
                #cc0000 262.71deg 272.44deg,
                #000000 272.44deg 282.17deg,
                #cc0000 282.17deg 291.9deg,
                #000000 291.9deg 301.63deg,
                #cc0000 301.63deg 311.36deg,
                #000000 311.36deg 321.09deg,
                #cc0000 321.09deg 330.82deg,
                #000000 330.82deg 340.55deg,
                #cc0000 340.55deg 350.28deg,
                #000000 330.82deg 340.55deg
            );
        }
        .center-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            background: #ffd700;
            border-radius: 50%;
            border: 5px solid #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            z-index: 2;
        }
        .number {
            position: absolute;
            color: white;
            font-weight: bold;
            font-size: 18px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            transform-origin: center;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }
        .pointer {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background: #ff0000;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            filter: drop-shadow(0 0 5px rgba(255, 0, 0, 0.5));
            z-index: 3;
        }
        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }
        .bet-controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.6);
        }
        .spin-button {
            padding: 15px 40px;
            font-size: 24px;
            font-weight: bold;
            color: #000;
            background: linear-gradient(145deg, #ffd700, #ffed4a);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }
        .spin-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        .input-field, .bet-select {
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ffd700;
            background-color: transparent;
            color: white;
            border-radius: 5px;
            width: 150px;
        }
        #result {
            font-size: 32px;
            font-weight: bold;
            text-align: center;
            min-height: 40px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            margin-top: 20px;
        }
        .history {
            margin-top: 20px;
            font-size: 18px;
            text-align: center;
        }
        .history-numbers {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .history-number {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            color: white;
        }
        .red { background-color: #cc0000; }
        .black { background-color: #000000; }
        .green { background-color: #00b300; }
    </style>
</head>
<body>
    <div class="wheel-container">
        <div class="pointer"></div>
        <div class="wheel" id="wheel">
            <div class="number-container" id="number-container"></div>
            <div class="center-circle"></div>
        </div>
    </div>

    <div class="controls">
        <div class="bet-controls">
            <div>
                <label for="betNumber">Choose a number to bet on (0-36):</label>
                <input type="number" id="betNumber" min="0" max="36" class="input-field" value="0" required />
            </div>
            <div>
                <label for="betColor">Choose a color to bet on:</label>
                <select id="betColor" class="bet-select">
                    <option value="red">Red</option>
                    <option value="black">Black</option>
                    <option value="green">Green</option>
                </select>
            </div>
        </div>
        <button class="spin-button" id="spinButton">Spin</button>
        <div id="result"></div>
    </div>

    <div class="history">
        <p>Recent Results:</p>
        <div class="history-numbers" id="history"></div>
    </div>

    <script>
        const numbers = [
            { number: 0, color: "green" },
            { number: 32, color: "red" },
            { number: 15, color: "black" },
            { number: 19, color: "red" },
            { number: 4, color: "black" },
            { number: 21, color: "red" },
            { number: 2, color: "black" },
            { number: 25, color: "red" },
            { number: 17, color: "black" },
            { number: 34, color: "red" },
            { number: 6, color: "black" },
            { number: 27, color: "red" },
            { number: 13, color: "black" },
            { number: 36, color: "red" },
            { number: 11, color: "black" },
            { number: 30, color: "red" },
            { number: 8, color: "black" },
            { number: 23, color: "red" },
            { number: 10, color: "black" },
            { number: 5, color: "red" },
            { number: 24, color: "black" },
            { number: 16, color: "red" },
            { number: 33, color: "black" },
            { number: 1, color: "red" },
            { number: 20, color: "black" },
            { number: 14, color: "red" },
            { number: 31, color: "black" },
            { number: 9, color: "red" },
            { number: 22, color: "black" },
            { number: 18, color: "red" },
            { number: 29, color: "black" },
            { number: 7, color: "red" },
            { number: 28, color: "black" },
            { number: 12, color: "red" },
            { number: 35, color: "black" },
            { number: 3, color: "red" },
            { number: 26, color: "black" }
        ];

        const wheel = document.getElementById("wheel");
        const numberContainer = document.getElementById("number-container");
        const spinButton = document.getElementById("spinButton");
        const resultText = document.getElementById("result");
        const historyContainer = document.getElementById("history");
        let isSpinning = false;

        function drawNumbers() {
            const sections = numbers.length;
            const sectionAngle = 360 / sections;
            const radius = 180;
            const centerX = 200;
            const centerY = 200;

            numbers.forEach((numObj, i) => {
                const number = document.createElement("div");
                number.classList.add("number");
                
                // Calculate angle for centered placement
                const angle = (i * sectionAngle) + (sectionAngle / 2);
                const radians = (angle - 90) * Math.PI / 180;
                
                const posX = centerX + radius * Math.cos(radians);
                const posY = centerY + radius * Math.sin(radians);

                number.style.left = `${posX - 15}px`;
                number.style.top = `${posY - 15}px`;
                number.textContent = numObj.number;
                
                numberContainer.appendChild(number);
            });
        }

        function spinWheel() {
            if (isSpinning) return;

            isSpinning = true;
            spinButton.disabled = true;

            const winningIndex = Math.floor(Math.random() * numbers.length);
            const winningNumber = numbers[winningIndex];
            const betNumber = parseInt(document.getElementById('betNumber').value);
            const betColor = document.getElementById('betColor').value;

            const sectionAngle = 360 / numbers.length;
            // Adjust the stopAngle to center the number under the pointer
            const stopAngle = (winningIndex * sectionAngle) + (sectionAngle / 2);
            const spins = 5;
            const finalRotation = -(spins * 360 + stopAngle);

            wheel.style.transform = `rotate(${finalRotation}deg)`;

            setTimeout(() => {
                isSpinning = false;
                spinButton.disabled = false;

                let message = `Number: ${winningNumber.number} (${winningNumber.color})`;
                
                if (winningNumber.number === betNumber) {
                    message += "\nNumber match - You win!";
                }
                if (winningNumber.color === betColor) {
                    message += "\nColor match - You win!";
                }

                resultText.textContent = message;

                const historyNumber = document.createElement("div");
                historyNumber.classList.add("history-number", winningNumber.color);
                historyNumber.textContent = winningNumber.number;
                
                if (historyContainer.children.length >= 10) {
                    historyContainer.removeChild(historyContainer.lastChild);
                }
                historyContainer.insertBefore(historyNumber, historyContainer.firstChild);
            }, 4000);
        }

        document.getElementById('betNumber').addEventListener('input', function() {
            let value = parseInt(this.value);
            if (value > 36) this.value = 36;
            if (value < 0) this.value = 0;
        });

        spinButton.addEventListener('click', spinWheel);
        drawNumbers();
    </script>
</body>
</html>